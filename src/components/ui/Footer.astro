---
// Astro Component Setup
import { Icon } from "astro-icon/components";
const currentYear = new Date().getFullYear();
const socialLinks = [
  { name: "github", url: "https://github.com/malvin555" },
  { name: "email", url: "mailto:malvin@example.com" },
];
---

<footer class="bg-terminal-pattern border-tertiary border-t">
  <!-- Main Footer Content -->
  <div class="mx-auto max-w-6xl px-4 py-6 sm:px-6 md:px-8">
    <div class="grid grid-cols-1 gap-6 text-center md:grid-cols-3 md:text-left">
      <!-- Terminal Output -->
      <div class="md:col-span-2">
        <div class="space-y-1 font-mono text-xs sm:text-sm">
          <p class="text-secondary-dark">$ cat /etc/motd</p>
          <p class="text-primary">Thanks for visiting my portfolio!</p>
          <p class="text-secondary">Always learning, always building.</p>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="font-mono text-xs sm:text-sm">
        <p class="text-secondary-dark mb-2">$ ls links/</p>
        <div
          class="flex flex-wrap justify-center gap-x-4 gap-y-2 md:justify-start"
        >
          {
            socialLinks.map((link) => (
              <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class="text-secondary hover:text-primary transition-all duration-200 ease-out hover:-translate-y-px"
              >
                {link.name}
              </a>
            ))
          }
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-tertiary border-t px-4 py-4 text-center sm:px-6 md:px-8">
    <p
      class="text-secondary flex flex-wrap items-center justify-center gap-1 font-mono text-xs sm:text-sm"
    >
      <span class="text-secondary">$</span>
      echo "Made with"
      <Icon name="mdi:heart" class="text-red-500" size={16} />
      by Malvin © {currentYear} && exit 0
    </p>
  </div>
</footer>

<!-- Back to Top Button -->
<button
  id="back-to-top"
  class="bg-muted-dark hover:bg-primary-dark hover:shadow-primary-dark/30 fixed right-4 bottom-4 p-3 font-mono text-xs text-black opacity-0 transition-all duration-300 ease-out hover:-translate-y-0.5 hover:shadow-lg sm:right-6 sm:bottom-6 sm:p-4 sm:text-sm"
  onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
  title="Back to top"
>
  ↑
</button>

<script>
  // Show/hide back to top button
  window.addEventListener("scroll", () => {
    const backToTop = document.getElementById("back-to-top");
    if (!backToTop) return;

    if (window.scrollY > 300) {
      backToTop.classList.remove("opacity-0", "pointer-events-none");
      backToTop.classList.add("opacity-100");
    } else {
      backToTop.classList.add("opacity-0", "pointer-events-none");
      backToTop.classList.remove("opacity-100");
    }
  });
</script>
