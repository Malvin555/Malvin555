---
// Astro Component Setup
import { Icon } from "astro-icon/components";
const currentYear = new Date().getFullYear();
const socialLinks = [
  { name: "github", url: "https://github.com/malvin555" },
  { name: "email", url: "mailto:malvin@example.com" },
];

const pathname = Astro.url.pathname;
let bgClass = "";

if (pathname === "/preview/") {
  bgClass = "bg-black";
}
---

<footer class={`border-tertiary ${bgClass} relative overflow-hidden border-t`}>
  <div class="bg-terminal-pattern pointer-events-none absolute inset-0 -z-10">
  </div>
  <!-- Main Footer Content -->
  <div class="z-10 mx-auto max-w-6xl px-4 py-6 sm:px-6 md:px-8">
    <div class="grid grid-cols-1 gap-6 text-center md:grid-cols-3 md:text-left">
      <!-- Terminal Output -->
      <div class="md:col-span-2">
        <div class="space-y-1 font-mono text-xs sm:text-sm">
          <p class="text-secondary-dark">$ cat /etc/motd</p>
          <p class="text-primary">Thanks for visiting my portfolio!</p>
          <p class="text-secondary">Always learning, always building.</p>
        </div>
      </div>

      <!-- Quick Links -->
      <div class="font-mono text-xs sm:text-sm">
        <p class="text-secondary-dark mb-2">$ ls links/</p>
        <div
          class="flex flex-wrap justify-center gap-x-4 gap-y-2 md:justify-start"
        >
          {
            socialLinks.map((link) => (
              <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class="text-secondary hover:text-primary transition-all duration-200 ease-out hover:-translate-y-px"
              >
                {link.name}
              </a>
            ))
          }
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-tertiary border-t px-4 py-4 text-center sm:px-6 md:px-8">
    <p
      class="text-secondary flex flex-wrap items-center justify-center gap-1 font-mono text-xs sm:text-sm"
    >
      <span class="text-secondary">$</span>
      echo "Made with"
      <Icon name="mdi:heart" class="text-red-500" size={16} />
      by Malvin Â© {currentYear} && exit 0
    </p>
  </div>
</footer>

<!-- Back to Top Button -->
<button
  id="back-to-top"
  class="bg-gin border-tertiary hover:border-primary hover:shadow-primary-dark/30 fixed right-4 bottom-4 border p-2.5 font-mono text-xs text-black opacity-0 transition-all duration-300 ease-out hover:shadow-lg"
  onclick="window.scrollTo({ top: 0, behavior: 'smooth' })"
  title="Back to top"
>
  <Icon name="mdi:arrow-up" class="text-white" size={16} />
</button>
